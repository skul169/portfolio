var textareaID,$_ResumeBuilderConditionalTimeout=!1;function rbuilder_reset_experience_builder(){jQuery(".rbuilder-experience-block").each(function(){var e=rbuilder_get_random_int(1e11,999999999999),t=jQuery(this);if(""==t.find("[data-experience-part='date-range']").attr("name")&&t.find("[data-experience-part='date-range']").attr("name","_resume_settings[experience]["+e+"][date_range]"),""==t.find("[data-experience-part='short-description']").attr("name")&&t.find("[data-experience-part='short-description']").attr("name","_resume_settings[experience]["+e+"][short_description]"),""==t.find("[data-experience-part='title']").attr("name")&&t.find("[data-experience-part='title']").attr("name","_resume_settings[experience]["+e+"][title]"),""==t.find("[data-experience-part='long-description']").attr("name")){var r=t.find("[data-experience-part='long-description']").attr("id");t.find("[data-experience-part='long-description']").attr("id",r+"_"+e),t.find("[data-experience-part='long-description']").attr("name","_resume_settings[experience]["+e+"][long_description]");try{tinyMCE.execCommand("mceAddEditor",!1,r+"_"+e)}catch(e){}}if(""==t.find("[data-experience-part='section_heading_name']").attr("name")&&t.find("[data-experience-part='section_heading_name']").attr("name","_resume_settings[experience]["+e+"][section_heading_name]"),""==t.find("[data-experience-part='section-text-content']").attr("name")){r=t.find("[data-experience-part='section-text-content']").attr("id");t.find("[data-experience-part='section-text-content']").attr("id",r+"_"+e),t.find("[data-experience-part='section-text-content']").attr("name","_resume_settings[experience]["+e+"][section_text_content]");try{tinyMCE.execCommand("mceAddEditor",!1,r+"_"+e)}catch(e){}}})}function rbuilder_reset_skills_builder(){jQuery(".rbuilder-skills-block").each(function(){var e=rbuilder_get_random_int(1e11,999999999999),t=jQuery(this);""==t.find("[data-skills-part='section_heading_name']").attr("name")&&t.find("[data-skills-part='section_heading_name']").attr("name","_resume_settings[skills]["+e+"][section_heading_name]"),""==t.find("[data-skills-part='title']").attr("name")&&t.find("[data-skills-part='title']").attr("name","_resume_settings[skills]["+e+"][title]"),""==t.find("[data-skills-part='rating']").attr("name")&&t.find("[data-skills-part='rating']").attr("name","_resume_settings[skills]["+e+"][rating]"),""==t.find("[data-skills-part='description']").attr("name")&&t.find("[data-skills-part='description']").attr("name","_resume_settings[skills]["+e+"][description]")})}function rbuilder_get_random_int(e,t){return Math.floor(Math.random()*(t-e))+e}function rbuilder_is_int(e){return!(Math.floor(e)!=e||!$.isNumeric(e))}!function(e){e(document).ready(function(){var t=e(".rbuilder-color-field"),r=e("#resume_builder_settings").find("select"),i=e("#rbuilder-resume-tabs"),n=e("#rbuilder-settings-tabs"),a=e("#resume_builder_settings"),d=e(".rbuilder-sortable"),l=e(".rbuilder-shortcode-field"),s=e("#rbuilder-experience-builder"),c=e("#rbuilder-skills-builder");if(t.length&&t.wpColorPicker(),d.length&&d.sortable({handle:".fa-bars",start:function(t,r){textareaID=e(r.item).find(".wp-editor-container textarea").length>0?e(r.item).find(".wp-editor-container textarea").attr("id"):e(r.item).find(".mce-container").parent().find("textarea").attr("id");try{tinyMCE.execCommand("mceRemoveEditor",!1,textareaID)}catch(e){}},stop:function(t,r){try{tinyMCE.execCommand("mceAddEditor",!1,textareaID)}catch(e){}e(this).find(".update-warning").show()}}),r.length&&r.each(function(){e(this).wrap('<div class="rbuilder-select-wrapper" />')}),l.length&&l.on("click",function(t){e(this).select()}),i.length){var o=i.find("li"),u=i.offset().top-32;e(window).scroll(function(){e(window).scrollTop()>=u?a.addClass("stuck"):a.removeClass("stuck")}),o.on("click",function(t){t.preventDefault(),window.scrollTo(0,0);var r=e(this),i=r.attr("id");i=(i=i.split("rbuilder-resume-tab-"))[1],e(".rbuilder-resume-tab-content").hide(),e("#rbuilder-resume-tab-content-"+i).show(),o.removeClass("active"),r.addClass("active")})}if(n.length){var p=n.find("li");p.on("click",function(t){t.preventDefault(),window.scrollTo(0,0);var r=e(this),i=r.attr("id");i=(i=i.split("rbuilder-settings-tab-"))[1],e(".rbuilder-settings-tab-content").hide(),e("#rbuilder-settings-tab-content-"+i).show(),p.removeClass("active"),r.addClass("active")})}s.length&&(rbuilder_reset_experience_builder(),s.parent().on("click",".rbuilder-add-experience-button",function(e){e.preventDefault();var t=s.parent().find(".rbuilder-experience-template").clone().removeClass("rbuilder-template rbuilder-experience-template").addClass("rbuilder-experience-block rbuilder-experience-large");s.append(t),rbuilder_reset_experience_builder()}),s.parent().on("click",".rbuilder-add-heading-button",function(e){e.preventDefault();var t=s.parent().find(".rbuilder-heading-template").clone().removeClass("rbuilder-template rbuilder-heading-template").addClass("rbuilder-experience-block rbuilder-experience-heading");s.append(t),rbuilder_reset_experience_builder()}),s.parent().on("click",".rbuilder-add-text-button",function(e){e.preventDefault();var t=s.parent().find(".rbuilder-text-template").clone().removeClass("rbuilder-template rbuilder-text-template").addClass("rbuilder-experience-block rbuilder-experience-medium rbuilder-experience-text-content");s.append(t),rbuilder_reset_experience_builder()}),s.parent().on("click",".rbuilder-delete-experience",function(t){t.preventDefault(),e(this).parent().remove(),rbuilder_reset_experience_builder()})),c.length&&(rbuilder_reset_skills_builder(),c.parent().on("click",".rbuilder-add-skills-button",function(e){e.preventDefault();var t=c.parent().find(".rbuilder-skills-template").clone().removeClass("rbuilder-template rbuilder-skills-template").addClass("rbuilder-skills-block");c.append(t),rbuilder_reset_skills_builder()}),c.parent().on("click",".rbuilder-add-heading-button",function(e){e.preventDefault();var t=c.parent().find(".rbuilder-heading-template").clone().removeClass("rbuilder-template rbuilder-heading-template").addClass("rbuilder-skills-block rbuilder-skills-heading");c.append(t),rbuilder_reset_skills_builder()}),c.parent().on("click",".rbuilder-delete-skills",function(t){t.preventDefault(),e(this).parent().remove(),rbuilder_reset_skills_builder()}))})}(jQuery);